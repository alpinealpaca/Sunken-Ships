

<!--{% extends "base.html" %}

{% block title %}Sunken Ships{% endblock %}

{% block content %}-->

<!DOCTYPE html>
 
<html>
<head>
    
    <title>Sunken Ships</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link rel="stylesheet" href="screen.css" />
    <script src="matter.js"></script>

</head>

    
    
    
<body>
    
    <div id="header">

          <img src="{{ url_for('static', filename='shroom_logo9.png') }}" id="logo" />
          <h1>Ship Chart</h1>
          <em>Toadstools &bull; Fungus &bull; Mushrooms</em>


        </div>

        <div id="backdrop1">

            <em>Interactive Map</em>
            <h2>Sunken Ships</h2>


          <p>
            <a class="btn-green" href="{{ url_for('myshroom') }}">Generate Now</a>
          </p> 


        </div>

       <!-- <div class="footer">
            <div class="container-fluid">
                <p>SHROOM.INC </p>
           </div> 
        </div> 
    {% endblock %}-->
    
    
    <script>
			let engine = Matter.Engine.create();

			let render = Matter.Render.create({
				element: document.body,
				engine: engine,
				options: {
					width: 1700,
					height: 900,
					wireframes: false,
				},
			});

			// Ground parameters
			let ground = Matter.Bodies.rectangle(1150, 520, 600, 15, { isStatic: true });

			// Slingshot position and size
			let ball = Matter.Bodies.circle(300, 600, 15);
			let sling = Matter.Constraint.create({
				pointA: { x: 300, y: 600 },
				bodyB: ball,
				stiffness: 0.05,
			});

			let mouse = Matter.Mouse.create(render.canvas);
			let mouseConstraint = Matter.MouseConstraint.create(engine, {
				mouse: mouse,
				constraint: {
					render: { visible: false },
				},
			});
			render.mouse = mouse;

			let firing = false;
			Matter.Events.on(mouseConstraint, "enddrag", function (e) {
				if (e.body === ball) firing = true;
			});
			Matter.Events.on(engine, "afterUpdate", function () {
				if (firing && Math.abs(ball.position.x - 300) < 20 && Math.abs(ball.position.y - 600) < 20) {
					ball = Matter.Bodies.circle(300, 600, 15);
					Matter.World.add(engine.world, ball);
					sling.bodyB = ball;
					firing = false;
				}
			});

			// Shape paramters, '8' for octagon
			let stack = Matter.Composites.stack(900, 1, 15, 15, 0, 0, function (x, y) {
				return Matter.Bodies.polygon(x, y, 8, 18);
			});

			Matter.World.add(engine.world, [stack, ground, ball, sling, mouseConstraint]);
			Matter.Engine.run(engine);
			Matter.Render.run(render);
		</script>
    
    
    
    </body>
    </html>
